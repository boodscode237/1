<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ù–°–†: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Merriweather:ital,wght@0,300;0,400;0,700;1,400&display=swap');

        body {
            font-family: 'Roboto', sans-serif;
            background-color: #fcfaf8; /* Warm neutral */
            color: #292524; /* Stone 800 */
        }

        h1, h2, h3, .serif {
            font-family: 'Merriweather', serif;
        }

        /* Chart Container Styling - MANDATORY */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        .nav-item.active {
            background-color: #e7e5e4; /* Stone 200 */
            border-right: 4px solid #ea580c; /* Orange 600 */
            font-weight: 600;
        }

        .construction-card {
            transition: all 0.3s ease;
        }
        .construction-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #d6d3d1;
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #a8a29e;
        }
    </style>
    <!-- Chosen Palette: Warm Stone & Academic Orange (Neutral Background #fcfaf8, Accents #ea580c, Text #292524) -->
    <!-- Application Structure Plan: Dashboard layout with left sidebar navigation. 
         Sections: 
         1. Overview (General characteristics)
         2. Object Definitions (Interactive cards for case governance)
         3. Compression (Tabs for Plans, Annotations, Referats)
         4. Grammar (Participle visualizers)
         5. Quiz (Self-check).
         Rationale: Breaks dense linguistic theory into functional, task-based modules. -->
    <!-- Visualization & Content Choices: 
         - Overview: Donut chart for Style traits.
         - Definitions: Interactive cards (Grid) to map Verbs -> Cases.
         - Grammar: Bar chart for Participle Suffix distribution (Active vs Passive).
         - Quiz: Interactive form with immediate feedback.
         - NO SVG/Mermaid used. Canvas/HTML only. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="flex flex-col h-screen overflow-hidden">

    <!-- Header -->
    <header class="bg-white border-b border-stone-200 shadow-sm z-10 flex-none">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="bg-orange-600 text-white p-2 rounded-lg font-bold text-xl">–ù–°–†</div>
                <h1 class="text-xl font-bold text-stone-800 hidden sm:block">–ù–∞—É—á–Ω—ã–π –°—Ç–∏–ª—å –†–µ—á–∏: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ç–µ—Å—Ç—É</h1>
            </div>
            <div class="text-sm text-stone-500">–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π –∫–æ–Ω—Å–ø–µ–∫—Ç</div>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden">
        <!-- Sidebar Navigation -->
        <nav class="w-64 bg-stone-50 border-r border-stone-200 flex-none hidden md:flex flex-col overflow-y-auto">
            <div class="p-6">
                <h3 class="text-xs font-semibold text-stone-400 uppercase tracking-wider mb-4">–†–∞–∑–¥–µ–ª—ã</h3>
                <div class="space-y-1">
                    <button onclick="navigate('overview')" id="nav-overview" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm text-stone-700 hover:bg-stone-100 transition-colors active">
                        üìö –û–±—â–∞—è —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞
                    </button>
                    <button onclick="navigate('definitions')" id="nav-definitions" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm text-stone-700 hover:bg-stone-100 transition-colors">
                        üèó –ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
                    </button>
                    <button onclick="navigate('compression')" id="nav-compression" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm text-stone-700 hover:bg-stone-100 transition-colors">
                        üìù –°–∂–∞—Ç–∏–µ —Ç–µ–∫—Å—Ç–∞ (–ü–ª–∞–Ω—ã)
                    </button>
                    <button onclick="navigate('grammar')" id="nav-grammar" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm text-stone-700 hover:bg-stone-100 transition-colors">
                        ‚öôÔ∏è –ì—Ä–∞–º–º–∞—Ç–∏–∫–∞ (–ü—Ä–∏—á–∞—Å—Ç–∏—è)
                    </button>
                    <button onclick="navigate('quiz')" id="nav-quiz" class="nav-item w-full text-left px-4 py-3 rounded-lg text-sm text-stone-700 hover:bg-stone-100 transition-colors">
                        ‚úÖ –ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è
                    </button>
                </div>
            </div>
            
            <div class="mt-auto p-6 border-t border-stone-200">
                <div class="bg-orange-50 rounded-lg p-4 border border-orange-100">
                    <p class="text-xs text-orange-800 font-semibold mb-1">–°–æ–≤–µ—Ç:</p>
                    <p class="text-xs text-orange-700" id="random-tip">–°–ª–µ–¥–∏ –∑–∞ –ø–∞–¥–µ–∂–∞–º–∏: "–Ø–≤–ª—è–µ—Ç—Å—è" + –¢.–ø.!</p>
                </div>
            </div>
        </nav>

        <!-- Mobile Nav Toggle (Visible only on small screens) -->
        <div class="md:hidden fixed bottom-4 right-4 z-50">
            <div class="bg-white rounded-full shadow-lg border border-stone-200 p-2 flex gap-2">
                <button onclick="navigate('overview')" class="p-2 rounded-full hover:bg-stone-100 text-xl">üìö</button>
                <button onclick="navigate('definitions')" class="p-2 rounded-full hover:bg-stone-100 text-xl">üèó</button>
                <button onclick="navigate('compression')" class="p-2 rounded-full hover:bg-stone-100 text-xl">üìù</button>
                <button onclick="navigate('grammar')" class="p-2 rounded-full hover:bg-stone-100 text-xl">‚öôÔ∏è</button>
                <button onclick="navigate('quiz')" class="p-2 rounded-full hover:bg-stone-100 text-xl">‚úÖ</button>
            </div>
        </div>

        <!-- Main Content Area -->
        <main class="flex-1 overflow-y-auto bg-[#fcfaf8] p-4 sm:p-8" id="main-content">
            <!-- Dynamic Content Injected Here -->
        </main>
    </div>

    <!-- Scripts -->
    <script>
        // --- DATA STORE ---
        const appData = {
            overview: {
                title: "–•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ –ù–∞—É—á–Ω–æ–≥–æ –°—Ç–∏–ª—è (–ù–°–†)",
                intro: "–ù–∞—É—á–Ω—ã–π —Å—Ç–∏–ª—å —Ä–µ—á–∏ (–ù–°–†) ‚Äî —ç—Ç–æ –æ—Å–Ω–æ–≤–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ–±—â–µ–Ω–∏—è –≤ –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–æ–π –∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–π —Å—Ä–µ–¥–µ. –ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å —ç—Ç–æ–≥–æ —Ä–∞–∑–¥–µ–ª–∞ ‚Äî –ø–æ–Ω—è—Ç—å –∫–ª—é—á–µ–≤—ã–µ —á–µ—Ä—Ç—ã —Å—Ç–∏–ª—è: —Ç–æ—á–Ω–æ—Å—Ç—å, –æ–±—ä–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –ª–æ–≥–∏—á–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–ª–∏—á–∞—é—Ç –µ–≥–æ –æ—Ç —Ä–∞–∑–≥–æ–≤–æ—Ä–Ω–æ–π –∏–ª–∏ —Ö—É–¥–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–µ—á–∏.",
                traits: [
                    { label: "–¢–æ—á–Ω–æ—Å—Ç—å", desc: "–£–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ç–µ—Ä–º–∏–Ω–æ–≤, –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç—å —Å–ª–æ–≤." },
                    { label: "–õ–æ–≥–∏—á–Ω–æ—Å—Ç—å", desc: "–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –∏–∑–ª–æ–∂–µ–Ω–∏–µ, –Ω–∞–ª–∏—á–∏–µ –ø—Ä–∏—á–∏–Ω–Ω–æ-—Å–ª–µ–¥—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Å–≤—è–∑–µ–π." },
                    { label: "–û–±—ä–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å", desc: "–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —ç–º–æ—Ü–∏–π, —Ñ–æ–∫—É—Å –Ω–∞ —Ñ–∞–∫—Ç–∞—Ö, –ø–∞—Å—Å–∏–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏." },
                    { label: "–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ—Å—Ç—å", desc: "–û–±–æ–±—â–µ–Ω–∏–µ –ø–æ–Ω—è—Ç–∏–π, –æ—Ç–≥–ª–∞–≥–æ–ª—å–Ω—ã–µ —Å—É—â–µ—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ." }
                ],
                chartData: [30, 25, 25, 20] // Abstract percentages for visual
            },
            definitions: {
                title: "–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∫–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–±—ä–µ–∫—Ç–∞",
                intro: "–í –Ω–∞—É—á–Ω–æ–º —Ç–µ–∫—Å—Ç–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –¥–∞–≤–∞—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è. –í —ç—Ç–æ–º —Ä–∞–∑–¥–µ–ª–µ —Å–æ–±—Ä–∞–Ω—ã –æ—Å–Ω–æ–≤–Ω—ã–µ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥–µ–ª–∏ (–∫–ª–∏—à–µ) –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–æ–≤. –û–±—Ä–∞—Ç–∏—Ç–µ –æ—Å–æ–±–æ–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –ø–∞–¥–µ–∂–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ‚Äî —ç—Ç–æ —Å–∞–º–∞—è —á–∞—Å—Ç–∞—è –æ—à–∏–±–∫–∞ –Ω–∞ —ç–∫–∑–∞–º–µ–Ω–µ.",
                items: [
                    { pattern: "–ß—Ç–æ (–ò.–ø.) ‚Äî —ç—Ç–æ –ß—Ç–æ (–ò.–ø.)", case: "–ò–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π (1) - –ò–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π (1)", example: "–ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–∞ ‚Äî —ç—Ç–æ –Ω–∞—É–∫–∞ –æ —Å–ø–æ—Å–æ–±–∞—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏.", tip: "–ë–∞–∑–æ–≤–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ." },
                    { pattern: "–ß—Ç–æ (–ò.–ø.) —è–≤–ª—è–µ—Ç—Å—è –ß–µ–º (–¢.–ø.)", case: "–ò–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π (1) - –¢–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π (5)", example: "–ö–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∞ —è–≤–ª—è–µ—Ç—Å—è –æ—Å–Ω–æ–≤–æ–π —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.", tip: "–ë–æ–ª–µ–µ –∫–Ω–∏–∂–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç." },
                    { pattern: "–ß—Ç–æ (–ò.–ø.) –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –ß—Ç–æ (–í.–ø.)", case: "–ò–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π (1) - –í–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π (4)", example: "–î–∞–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —Å–ª–æ–∂–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º.", tip: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è —Å–æ—Å—Ç–∞–≤–∞ –∏–ª–∏ —Å—É—â–Ω–æ—Å—Ç–∏." },
                    { pattern: "–ü–æ–¥ –ß–µ–º (–¢.–ø.) –ø–æ–Ω–∏–º–∞–µ—Ç—Å—è –ß—Ç–æ (–ò.–ø.)", case: "–¢–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π (5) - –ò–º–µ–Ω–∏—Ç–µ–ª—å–Ω—ã–π (1)", example: "–ü–æ–¥ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –ø–æ–Ω–∏–º–∞—é—Ç—Å—è —Å–≤–µ–¥–µ–Ω–∏—è –æ–± –æ–∫—Ä—É–∂–∞—é—â–µ–º –º–∏—Ä–µ.", tip: "–ü–∞—Å—Å–∏–≤–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è." },
                    { pattern: "–ß—Ç–æ (–í.–ø.) –Ω–∞–∑—ã–≤–∞—é—Ç –ß–µ–º (–¢.–ø.)", case: "–í–∏–Ω–∏—Ç–µ–ª—å–Ω—ã–π (4) - –¢–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π (5)", example: "–ö–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º –Ω–∞–∑—ã–≤–∞—é—Ç –ø—Ä–æ—Ü–µ—Å—Å –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.", tip: "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞." }
                ]
            },
            compression: {
                title: "–°–∂–∞—Ç–∏–µ —Ç–µ–∫—Å—Ç–∞: –ü–ª–∞–Ω—ã –∏ –ê–Ω–Ω–æ—Ç–∞—Ü–∏–∏",
                intro: "–£–º–µ–Ω–∏–µ —Å–∂–∏–º–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é ‚Äî –∫–ª—é—á–µ–≤–æ–π –Ω–∞–≤—ã–∫ –¥–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ä–µ—Ñ–µ—Ä–∞—Ç–æ–≤ –∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π. –ó–¥–µ—Å—å –º—ã —Ä–∞–∑–±–µ—Ä–µ–º —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É –≤–∏–¥–∞–º–∏ –ø–ª–∞–Ω–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –∞–Ω–Ω–æ—Ç–∞—Ü–∏–π, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –≤—Ç–æ—Ä–∏—á–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã.",
                plans: {
                    nominative: ["1. –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∏.", "2. –ò—Å—Ç–æ—Ä–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è –≠–í–ú.", "3. –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –ò–¢."],
                    question: ["1. –ß—Ç–æ –∏–∑—É—á–∞–µ—Ç –∫–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∞?", "2. –ö–∞–∫–∏–µ —ç—Ç–∞–ø—ã —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ—à–ª–∏ –≠–í–ú?", "3. –ö–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ —Ä–µ—à–∞–µ—Ç –ò–¢ —Å–µ–≥–æ–¥–Ω—è?"]
                },
                annotations: [
                    { type: "–°–ø—Ä–∞–≤–æ—á–Ω–∞—è", desc: "–°–æ–æ–±—â–∞–µ—Ç —Ñ–∞–∫—Ç—ã: –∞–≤—Ç–æ—Ä, —Ç–µ–º–∞, –∂–∞–Ω—Ä. –ë–µ–∑ –æ—Ü–µ–Ω–∫–∏.", color: "bg-blue-50 border-blue-200" },
                    { type: "–†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è", desc: "–û—Ü–µ–Ω–∏–≤–∞–µ—Ç, –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤—ã–≤–∞–µ—Ç, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç.", color: "bg-green-50 border-green-200" }
                ]
            },
            grammar: {
                title: "–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞: –ü—Ä–∏—á–∞—Å—Ç–∏—è –∏ –ü–∞—Å—Å–∏–≤",
                intro: "–ü—Ä–∏—á–∞—Å—Ç–∏—è –∏ –ø–∞—Å—Å–∏–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–µ–ª–∞—é—Ç —Ä–µ—á—å ¬´–Ω–∞—É—á–Ω–æ–π¬ª, –ø–æ–∑–≤–æ–ª—è—è –∏–∑–±–µ–≥–∞—Ç—å —Å–ª–æ–∂–Ω—ã—Ö –ø—Ä–∏–¥–∞—Ç–æ—á–Ω—ã—Ö –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–æ —Å–ª–æ–≤–æ–º ¬´–∫–æ—Ç–æ—Ä—ã–π¬ª. –≠—Ç–æ—Ç —Ä–∞–∑–¥–µ–ª –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—É—Ñ—Ñ–∏–∫—Å—ã –ø—Ä–∏—á–∞—Å—Ç–∏–π, —á—Ç–æ–±—ã –ø–æ–º–æ—á—å –≤–∞–º –±—ã—Å—Ç—Ä–æ –∏—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –∏ –æ–±—Ä–∞–∑–æ–≤—ã–≤–∞—Ç—å.",
                suffixes: {
                    activePresent: ["-—É—â-", "-—é—â-", "-–∞—â-", "-—è—â-"],
                    activePast: ["-–≤—à-", "-—à-"],
                    passivePresent: ["-–µ–º-", "-–∏–º-"],
                    passivePast: ["-–Ω–Ω-", "-–µ–Ω–Ω-", "-—Ç-"]
                }
            },
            quiz: {
                title: "–ü—Ä–æ–≤–µ—Ä—å —Å–µ–±—è",
                intro: "–ù–µ–±–æ–ª—å—à–æ–π —Ç–µ—Å—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–≤–µ—Ç–æ–≤ –ø—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –Ω–∞—Å–∫–æ–ª—å–∫–æ —Ö–æ—Ä–æ—à–æ –≤—ã —É—Å–≤–æ–∏–ª–∏ –ø–∞–¥–µ–∂–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –≥—Ä–∞–º–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –Ω—é–∞–Ω—Å—ã.",
                questions: [
                    { q: "–ö–∏–±–µ—Ä–Ω–µ—Ç–∏–∫–∞ _______ –æ—Å–Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è.", options: ["—è–≤–ª—è–µ—Ç—Å—è", "–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π", "–Ω–∞–∑—ã–≤–∞–µ—Ç"], answer: 0, explanation: "–ì–ª–∞–≥–æ–ª '—è–≤–ª—è—Ç—å—Å—è' —Ç—Ä–µ–±—É–µ—Ç –¢–≤–æ—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞–¥–µ–∂–∞ (–æ—Å–Ω–æ–≤–æ–π)." },
                    { q: "–î–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ _______ —Å–ª–æ–∂–Ω—ã–π –∫–æ–º–ø–ª–µ–∫—Å.", options: ["—è–≤–ª—è–µ—Ç—Å—è", "–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π", "–ø–æ–Ω–∏–º–∞–µ—Ç—Å—è"], answer: 1, explanation: "'–ü—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π' —Ç—Ä–µ–±—É–µ—Ç –í–∏–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–∞–¥–µ–∂–∞ (–∫–æ–º–ø–ª–µ–∫—Å)." },
                    { q: "–ö–∞–∫–æ–π —Å—É—Ñ—Ñ–∏–∫—Å —É –∞–∫—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–∏—á–∞—Å—Ç–∏—è –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏?", options: ["-–µ–Ω–Ω-", "-—é—â-", "-–≤—à-"], answer: 1, explanation: "-—É—â-/-—é—â- –∏ -–∞—â-/-—è—â- ‚Äî —Å—É—Ñ—Ñ–∏–∫—Å—ã –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏—á–∞—Å—Ç–∏–π –Ω–∞—Å—Ç–æ—è—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏." },
                    { q: "–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å:", options: ["–ß—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–∞–ø–∏—Å–∞–Ω–æ?", "–û —á–µ–º —Ç–µ–∫—Å—Ç?", "–ö–∞–∫–∏–µ –≤—ã–≤–æ–¥—ã?"], answer: 1, explanation: "–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è –¥–∞–µ—Ç –æ–±—â–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ (–û —á–µ–º?), –∞ —Ä–µ—Ñ–µ—Ä–∞—Ç ‚Äî –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ (–ß—Ç–æ –∏–º–µ–Ω–Ω–æ?)." }
                ]
            }
        };

        // --- RENDER FUNCTIONS ---

        function renderOverview() {
            const data = appData.overview;
            return `
                <div class="animate-fade-in space-y-8">
                    <div class="bg-white rounded-xl shadow-sm p-6 border border-stone-100">
                        <h2 class="text-3xl font-serif font-bold text-stone-800 mb-4">${data.title}</h2>
                        <p class="text-stone-600 leading-relaxed mb-6">${data.intro}</p>
                        
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                            <div class="space-y-4">
                                ${data.traits.map(t => `
                                    <div class="flex items-start">
                                        <div class="flex-shrink-0 h-6 w-6 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 mt-1">‚úì</div>
                                        <div class="ml-4">
                                            <h4 class="text-lg font-medium text-stone-900">${t.label}</h4>
                                            <p class="text-stone-500 text-sm">${t.desc}</p>
                                        </div>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="chart-container bg-stone-50 rounded-xl p-4 border border-stone-100 flex flex-col items-center justify-center">
                                <h4 class="text-center text-stone-500 text-sm mb-2 font-medium">–°–æ—Å—Ç–∞–≤–ª—è—é—â–∏–µ –Ω–∞—É—á–Ω–æ–≥–æ —Å—Ç–∏–ª—è</h4>
                                <canvas id="overviewChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderDefinitions() {
            const data = appData.definitions;
            return `
                <div class="animate-fade-in space-y-6">
                    <div class="mb-6">
                        <h2 class="text-3xl font-serif font-bold text-stone-800 mb-2">${data.title}</h2>
                        <p class="text-stone-600">${data.intro}</p>
                    </div>

                    <div class="grid grid-cols-1 gap-4">
                        ${data.items.map((item, index) => `
                            <div class="construction-card bg-white rounded-xl border border-stone-200 p-6 cursor-pointer hover:border-orange-300 group" onclick="toggleDefinition(${index})">
                                <div class="flex justify-between items-center mb-2">
                                    <h3 class="text-xl font-bold text-stone-800 font-mono text-orange-700 group-hover:text-orange-600 transition-colors">${item.pattern}</h3>
                                    <span class="text-xs font-bold px-2 py-1 bg-stone-100 text-stone-500 rounded uppercase tracking-wide">–ö–ª–∏–∫–Ω–∏</span>
                                </div>
                                <div id="def-content-${index}" class="hidden mt-4 pt-4 border-t border-stone-100">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                        <div>
                                            <span class="text-xs text-stone-400 uppercase font-bold">–ü–∞–¥–µ–∂–∏</span>
                                            <p class="font-medium text-stone-700">${item.case}</p>
                                        </div>
                                        <div>
                                            <span class="text-xs text-stone-400 uppercase font-bold">–ü—Ä–∏–º–µ—Ä</span>
                                            <p class="italic text-stone-600 bg-stone-50 p-2 rounded border-l-2 border-orange-400">"${item.example}"</p>
                                        </div>
                                    </div>
                                    <p class="mt-2 text-xs text-orange-600 font-semibold">üí° ${item.tip}</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }

        function renderCompression() {
            const data = appData.compression;
            return `
                <div class="animate-fade-in space-y-8">
                    <div class="bg-white rounded-xl shadow-sm p-6">
                        <h2 class="text-3xl font-serif font-bold text-stone-800 mb-2">${data.title}</h2>
                        <p class="text-stone-600 mb-6">${data.intro}</p>

                        <!-- Plans Section -->
                        <div class="mb-10">
                            <h3 class="text-xl font-bold text-stone-800 mb-4 flex items-center">
                                <span class="bg-orange-100 text-orange-600 w-8 h-8 rounded-full flex items-center justify-center mr-2 text-sm">1</span>
                                –í–∏–¥—ã –ü–ª–∞–Ω–∞
                            </h3>
                            <div class="bg-stone-50 rounded-xl p-1 border border-stone-200 flex mb-4 max-w-sm">
                                <button onclick="switchPlan('nominative')" id="btn-nom" class="flex-1 py-2 px-4 rounded-lg text-sm font-medium bg-white shadow-sm text-stone-800 transition-all">–ù–∞–∑—ã–≤–Ω–æ–π</button>
                                <button onclick="switchPlan('question')" id="btn-que" class="flex-1 py-2 px-4 rounded-lg text-sm font-medium text-stone-500 hover:text-stone-700 transition-all">–í–æ–ø—Ä–æ—Å–Ω—ã–π</button>
                            </div>
                            <div class="bg-white border border-stone-200 rounded-xl p-6 relative overflow-hidden">
                                <div class="absolute top-0 right-0 p-2 bg-stone-100 rounded-bl-xl text-xs font-mono text-stone-500" id="plan-label">–°–£–©–ï–°–¢–í–ò–¢–ï–õ–¨–ù–´–ï</div>
                                <ul class="space-y-3" id="plan-content">
                                    ${data.plans.nominative.map(item => `<li class="flex items-center text-stone-700"><span class="w-2 h-2 bg-stone-300 rounded-full mr-3"></span>${item}</li>`).join('')}
                                </ul>
                            </div>
                        </div>

                        <!-- Annotations Section -->
                        <div>
                            <h3 class="text-xl font-bold text-stone-800 mb-4 flex items-center">
                                <span class="bg-orange-100 text-orange-600 w-8 h-8 rounded-full flex items-center justify-center mr-2 text-sm">2</span>
                                –í–∏–¥—ã –ê–Ω–Ω–æ—Ç–∞—Ü–∏–π
                            </h3>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                ${data.annotations.map(a => `
                                    <div class="${a.color} p-5 rounded-xl">
                                        <h4 class="font-bold text-stone-800 mb-2">${a.type}</h4>
                                        <p class="text-sm text-stone-600">${a.desc}</p>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="mt-6 p-4 bg-orange-50 rounded-lg border border-orange-100">
                                <h4 class="font-bold text-orange-800 text-sm mb-2">–î—É–±–ª–∏—Ä—É—é—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h4>
                                <p class="text-xs text-orange-700 leading-relaxed">
                                    –í —Ä–µ—Ñ–µ—Ä–∞—Ç–∞—Ö –Ω—É–∂–Ω–æ —É–¥–∞–ª—è—Ç—å –ø–æ–≤—Ç–æ—Ä—ã. <br>
                                    –ú–∞—Ä–∫–µ—Ä—ã –ø–æ–≤—Ç–æ—Ä–∞: <b>—Ç–æ –µ—Å—Ç—å, –∏–Ω—ã–º–∏ —Å–ª–æ–≤–∞–º–∏, –∏–Ω–∞—á–µ –≥–æ–≤–æ—Ä—è</b>. <br>
                                    <i>–°–æ–≤–µ—Ç: –ï—Å–ª–∏ —Ç–µ—Ä–º–∏–Ω –∏–∑–≤–µ—Å—Ç–µ–Ω, —É–¥–∞–ª—è–π—Ç–µ –≤—Å—ë, —á—Ç–æ –∏–¥–µ—Ç –ø–æ—Å–ª–µ ¬´—Ç–æ –µ—Å—Ç—å¬ª.</i>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderGrammar() {
            const data = appData.grammar;
            return `
                <div class="animate-fade-in space-y-6">
                    <div class="bg-white rounded-xl shadow-sm p-6">
                        <h2 class="text-3xl font-serif font-bold text-stone-800 mb-2">${data.title}</h2>
                        <p class="text-stone-600 mb-6">${data.intro}</p>

                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <!-- Visualizer -->
                            <div class="chart-container">
                                <canvas id="grammarChart"></canvas>
                            </div>

                            <!-- Reference Table -->
                            <div class="space-y-6">
                                <div>
                                    <h3 class="font-bold text-stone-800 mb-3 border-b pb-2">–ê–∫—Ç–∏–≤–Ω—ã–µ (–°—É–±—ä–µ–∫—Ç —Å–∞–º)</h3>
                                    <div class="grid grid-cols-2 gap-2">
                                        <div class="bg-blue-50 p-3 rounded-lg border border-blue-100">
                                            <div class="text-xs text-blue-500 uppercase font-bold mb-1">–ù–∞—Å—Ç–æ—è—â–µ–µ</div>
                                            <div class="text-lg font-mono font-bold text-blue-700">${data.suffixes.activePresent.join(', ')}</div>
                                            <div class="text-xs text-stone-500 mt-1">–ü—Ä–∏–º–µ—Ä: <i>–ò–∑—É—á–∞—é—â–∏–π</i></div>
                                        </div>
                                        <div class="bg-blue-50 p-3 rounded-lg border border-blue-100">
                                            <div class="text-xs text-blue-500 uppercase font-bold mb-1">–ü—Ä–æ—à–µ–¥—à–µ–µ</div>
                                            <div class="text-lg font-mono font-bold text-blue-700">${data.suffixes.activePast.join(', ')}</div>
                                            <div class="text-xs text-stone-500 mt-1">–ü—Ä–∏–º–µ—Ä: <i>–ò–∑—É—á–∏–≤—à–∏–π</i></div>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h3 class="font-bold text-stone-800 mb-3 border-b pb-2">–ü–∞—Å—Å–∏–≤–Ω—ã–µ (–ù–∞–¥ –æ–±—ä–µ–∫—Ç–æ–º)</h3>
                                    <div class="grid grid-cols-2 gap-2">
                                        <div class="bg-emerald-50 p-3 rounded-lg border border-emerald-100">
                                            <div class="text-xs text-emerald-500 uppercase font-bold mb-1">–ù–∞—Å—Ç–æ—è—â–µ–µ</div>
                                            <div class="text-lg font-mono font-bold text-emerald-700">${data.suffixes.passivePresent.join(', ')}</div>
                                            <div class="text-xs text-stone-500 mt-1">–ü—Ä–∏–º–µ—Ä: <i>–ò–∑—É—á–∞–µ–º—ã–π</i></div>
                                        </div>
                                        <div class="bg-emerald-50 p-3 rounded-lg border border-emerald-100">
                                            <div class="text-xs text-emerald-500 uppercase font-bold mb-1">–ü—Ä–æ—à–µ–¥—à–µ–µ</div>
                                            <div class="text-lg font-mono font-bold text-emerald-700">${data.suffixes.passivePast.join(', ')}</div>
                                            <div class="text-xs text-stone-500 mt-1">–ü—Ä–∏–º–µ—Ä: <i>–ò–∑—É—á–µ–Ω–Ω—ã–π</i></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="mt-8 p-4 bg-stone-100 rounded-lg">
                            <h4 class="font-bold text-stone-800 mb-2 text-sm">–ü–∞—Å—Å–∏–≤–Ω–∞—è –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (–ö–≤–∞–ª–∏—Ñ–∏–∫–∞—Ü–∏—è —Å–≤–æ–π—Å—Ç–≤)</h4>
                            <div class="flex flex-col sm:flex-row items-center gap-4 text-sm">
                                <div class="bg-white p-3 rounded border border-stone-200 flex-1 text-center text-stone-500">
                                    –£—á–µ–Ω—ã–µ <span class="font-bold text-red-500">—Ä–∞–∑—Ä–∞–±–æ—Ç–∞–ª–∏</span> –º–µ—Ç–æ–¥
                                    <br><span class="text-xs">(–ê–∫—Ç–∏–≤)</span>
                                </div>
                                <div class="text-stone-400">‚ûú</div>
                                <div class="bg-white p-3 rounded border border-stone-200 flex-1 text-center text-stone-800 shadow-sm border-l-4 border-l-emerald-500">
                                    –ú–µ—Ç–æ–¥ <span class="font-bold text-emerald-600">–±—ã–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω</span> —É—á–µ–Ω—ã–º–∏
                                    <br><span class="text-xs">(–ü–∞—Å—Å–∏–≤ - –û–±—ä–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å)</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderQuiz() {
            const data = appData.quiz;
            return `
                <div class="animate-fade-in max-w-2xl mx-auto">
                    <div class="bg-white rounded-xl shadow-lg p-8 border border-stone-100">
                        <div class="text-center mb-8">
                            <h2 class="text-3xl font-serif font-bold text-stone-800 mb-2">${data.title}</h2>
                            <p class="text-stone-600">${data.intro}</p>
                        </div>
                        
                        <div class="space-y-8">
                            ${data.questions.map((q, idx) => `
                                <div class="quiz-item" id="q-${idx}">
                                    <p class="font-medium text-lg text-stone-800 mb-4"><span class="text-orange-600 font-bold mr-2">${idx + 1}.</span> ${q.q}</p>
                                    <div class="space-y-2">
                                        ${q.options.map((opt, optIdx) => `
                                            <button onclick="checkAnswer(${idx}, ${optIdx})" class="quiz-opt w-full text-left p-3 rounded-lg border border-stone-200 hover:bg-stone-50 transition-colors text-sm text-stone-700">
                                                ${opt}
                                            </button>
                                        `).join('')}
                                    </div>
                                    <div id="feedback-${idx}" class="hidden mt-3 p-3 rounded-lg text-sm"></div>
                                </div>
                            `).join('')}
                        </div>
                        
                        <div class="mt-8 text-center pt-6 border-t border-stone-100">
                            <button onclick="navigate('overview')" class="text-orange-600 font-medium hover:text-orange-700 text-sm">–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–∞—á–∞–ª—É</button>
                        </div>
                    </div>
                </div>
            `;
        }

        // --- INTERACTION LOGIC ---

        function navigate(viewId) {
            // Update Nav UI
            document.querySelectorAll('.nav-item').forEach(el => {
                el.classList.remove('active', 'bg-stone-200', 'font-semibold');
                if(el.id === `nav-${viewId}`) {
                    el.classList.add('active');
                }
            });

            // Render Content
            const contentDiv = document.getElementById('main-content');
            contentDiv.style.opacity = '0';
            
            setTimeout(() => {
                let html = '';
                switch(viewId) {
                    case 'overview': html = renderOverview(); break;
                    case 'definitions': html = renderDefinitions(); break;
                    case 'compression': html = renderCompression(); break;
                    case 'grammar': html = renderGrammar(); break;
                    case 'quiz': html = renderQuiz(); break;
                }
                contentDiv.innerHTML = html;
                contentDiv.style.opacity = '1';
                contentDiv.scrollTop = 0;

                // Init Chart if needed
                if (viewId === 'overview') initOverviewChart();
                if (viewId === 'grammar') initGrammarChart();

            }, 200);
        }

        // Feature: Toggle Definition Details
        function toggleDefinition(index) {
            const el = document.getElementById(`def-content-${index}`);
            if (el.classList.contains('hidden')) {
                el.classList.remove('hidden');
            } else {
                el.classList.add('hidden');
            }
        }

        // Feature: Switch Plan Types
        function switchPlan(type) {
            const data = appData.compression.plans;
            const content = document.getElementById('plan-content');
            const label = document.getElementById('plan-label');
            const btnNom = document.getElementById('btn-nom');
            const btnQue = document.getElementById('btn-que');

            if (type === 'nominative') {
                content.innerHTML = data.nominative.map(item => `<li class="flex items-center text-stone-700"><span class="w-2 h-2 bg-stone-300 rounded-full mr-3"></span>${item}</li>`).join('');
                label.innerText = "–°–£–©–ï–°–¢–í–ò–¢–ï–õ–¨–ù–´–ï";
                
                btnNom.classList.add('bg-white', 'shadow-sm', 'text-stone-800');
                btnNom.classList.remove('text-stone-500');
                
                btnQue.classList.remove('bg-white', 'shadow-sm', 'text-stone-800');
                btnQue.classList.add('text-stone-500');
            } else {
                content.innerHTML = data.question.map(item => `<li class="flex items-center text-stone-700"><span class="w-2 h-2 bg-orange-300 rounded-full mr-3"></span>${item}</li>`).join('');
                label.innerText = "–í–û–ü–†–û–°–´ (?)";

                btnQue.classList.add('bg-white', 'shadow-sm', 'text-stone-800');
                btnQue.classList.remove('text-stone-500');
                
                btnNom.classList.remove('bg-white', 'shadow-sm', 'text-stone-800');
                btnNom.classList.add('text-stone-500');
            }
        }

        // Feature: Quiz Logic
        function checkAnswer(qIndex, optIndex) {
            const question = appData.quiz.questions[qIndex];
            const feedbackEl = document.getElementById(`feedback-${qIndex}`);
            const buttons = document.querySelectorAll(`#q-${qIndex} .quiz-opt`);

            // Disable buttons
            buttons.forEach(btn => btn.disabled = true);

            if (optIndex === question.answer) {
                // Correct
                buttons[optIndex].classList.add('bg-green-100', 'border-green-300', 'text-green-800');
                feedbackEl.innerHTML = `<span class="font-bold text-green-700">–ü—Ä–∞–≤–∏–ª—å–Ω–æ!</span> ${question.explanation}`;
                feedbackEl.classList.remove('hidden', 'bg-red-50', 'text-red-700');
                feedbackEl.classList.add('bg-green-50', 'text-green-700', 'border', 'border-green-100');
            } else {
                // Incorrect
                buttons[optIndex].classList.add('bg-red-50', 'border-red-300', 'text-red-800');
                buttons[question.answer].classList.add('bg-green-50', 'border-green-300', 'text-green-800'); // Show correct
                feedbackEl.innerHTML = `<span class="font-bold text-red-700">–û—à–∏–±–∫–∞.</span> ${question.explanation}`;
                feedbackEl.classList.remove('hidden', 'bg-green-50', 'text-green-700');
                feedbackEl.classList.add('bg-red-50', 'text-red-700', 'border', 'border-red-100');
            }
        }

        // --- CHARTS ---

        function initOverviewChart() {
            const ctx = document.getElementById('overviewChart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['–¢–µ—Ä–º–∏–Ω—ã', '–ü–∞—Å—Å–∏–≤–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏', '–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–µ —Å—É—â.', '–û–±—â–µ—É–ø–æ—Ç—Ä. —Å–ª–æ–≤–∞'],
                    datasets: [{
                        data: appData.overview.chartData,
                        backgroundColor: ['#ea580c', '#fdba74', '#fed7aa', '#f5f5f4'],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { boxWidth: 10, padding: 15, font: { size: 10 } } }
                    }
                }
            });
        }

        function initGrammarChart() {
            const ctx = document.getElementById('grammarChart').getContext('2d');
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['–ê–∫—Ç–∏–≤. –ù–∞—Å—Ç.', '–ê–∫—Ç–∏–≤. –ü—Ä–æ—à.', '–ü–∞—Å—Å–∏–≤. –ù–∞—Å—Ç.', '–ü–∞—Å—Å–∏–≤. –ü—Ä–æ—à.'],
                    datasets: [{
                        label: '–ö–æ–ª-–≤–æ —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤',
                        data: [4, 2, 2, 3], // Count of suffixes in the arrays
                        backgroundColor: ['#3b82f6', '#93c5fd', '#10b981', '#6ee7b7'],
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: { beginAtZero: true, ticks: { stepSize: 1 } }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const map = [
                                        appData.grammar.suffixes.activePresent.join(', '),
                                        appData.grammar.suffixes.activePast.join(', '),
                                        appData.grammar.suffixes.passivePresent.join(', '),
                                        appData.grammar.suffixes.passivePast.join(', ')
                                    ];
                                    return map[context.dataIndex];
                                }
                            }
                        }
                    }
                }
            });
        }

        // --- INIT ---
        window.onload = function() {
            navigate('overview');
            
            // Mobile Nav Tips Randomizer
            const tips = [
                "–°–ª–µ–¥–∏ –∑–∞ –ø–∞–¥–µ–∂–∞–º–∏: '–Ø–≤–ª—è–µ—Ç—Å—è' + –¢.–ø.!",
                "–ê–Ω–Ω–æ—Ç–∞—Ü–∏—è = –û —á–µ–º? –†–µ—Ñ–µ—Ä–∞—Ç = –ß—Ç–æ –∏–º–µ–Ω–Ω–æ?",
                "–í —Ä–µ—Ñ–µ—Ä–∞—Ç–µ —É–¥–∞–ª—è–π —Ç–æ, —á—Ç–æ –ø–æ—Å–ª–µ '—Ç–æ –µ—Å—Ç—å'.",
                "–ê–∫—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏—á–∞—Å—Ç–∏–µ = '—É—â/—é—â' –∏–ª–∏ '–∞—â/—è—â'.",
                "–í–æ–ø—Ä–æ—Å–Ω—ã–π –ø–ª–∞–Ω –ø–æ–º–æ–≥–∞–µ—Ç –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ –∫ –æ—Ç–≤–µ—Ç—É."
            ];
            document.getElementById('random-tip').innerText = tips[Math.floor(Math.random() * tips.length)];
        };

    </script>
</body>
</html>
