<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>НСР: Интерактивный Справочник Студента</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Warm Ivory & Professional Indigo -->
    <!-- Application Structure Plan: 
         Приложение спроектировано как нелинейный интерактивный хаб знаний. 
         Вместо простого повторения структуры отчета, контент разбит на 5 функциональных модулей:
         1. 'Основы и Квалификация': Фундамент НСР и конструкции определений.
         2. 'Технологии Сжатия': Всё о планах, аннотациях и реферировании.
         3. 'Синтаксическая Лаборатория': Уступка и пассивные конструкции.
         4. 'Мастер Причастий': Глубокий разбор активных и страдательных форм.
         5. 'Морфологическая База': Исчерпывающий справочник по частям речи.
         Такая структура позволяет пользователю переключаться между теорией и практикой (Use Cases) в один клик, обеспечивая эффективный синтез информации.
    -->
    
    <!-- Visualization & Content Choices:
         - НСР Характеристики -> Goal: Compare -> Grouped Content Blocks + Doughnut Chart -> Наглядная демонстрация номинализации.
         - Конструкции -> Goal: Organize -> Interactive Matrix with Case Filters -> Облегчение запоминания падежных форм.
         - Планы -> Goal: Compare -> Side-by-side Layout -> Четкое различие между назывным и вопросным типами.
         - Причастия -> Goal: Change -> Transformation Cards -> Демонстрация перехода от "который" к причастию.
         - Части речи -> Goal: Relationships -> Interactive Grid -> Связь морфологии с функциями в науке.
         CONFIRMED: NO SVG used. Unicode symbols and CSS shapes used for icons.
    -->

    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        :root {
            --ivory: #FCFAF7;
            --indigo-deep: #2D336B;
            --indigo-light: #A9B5DF;
            --accent-teal: #0D9488;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--ivory); color: #1F2937; scroll-behavior: smooth; }
        .font-title { font-family: 'Playfair Display', serif; }
        .chart-container { position: relative; width: 100%; max-width: 650px; margin: 0 auto; height: 350px; max-height: 400px; }
        .glass-card { background: rgba(255, 255, 255, 0.8); backdrop-filter: blur(10px); border: 1px solid rgba(0, 0, 0, 0.05); }
        .topic-active { border-left: 4px solid var(--indigo-deep); background: white; box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1); }
        .tab-btn.active { background-color: var(--indigo-deep); color: white; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #CBD5E1; border-radius: 10px; }
    </style>
</head>
<body class="antialiased overflow-x-hidden">

    <!-- Mobile Navigation Toggle -->
    <div class="lg:hidden fixed bottom-6 right-6 z-50">
        <button onclick="toggleSidebar()" class="bg-indigo-900 text-white p-4 rounded-full shadow-2xl">
            &#9776;
        </button>
    </div>

    <div class="flex min-h-screen">
        <!-- Sidebar Navigation -->
        <aside id="sidebar" class="fixed inset-y-0 left-0 z-40 w-72 bg-slate-50 border-r border-slate-200 transform -translate-x-full lg:translate-x-0 transition-transform duration-300 ease-in-out">
            <div class="h-full flex flex-col p-6">
                <div class="mb-8 flex items-center gap-3">
                    <div class="w-10 h-10 bg-indigo-900 flex items-center justify-center text-white font-bold rounded-lg text-xl">Н</div>
                    <div>
                        <h1 class="font-bold text-lg leading-none">НСР Справочник</h1>
                        <span class="text-xs text-slate-500 font-medium">К тесту готов!</span>
                    </div>
                </div>
                
                <nav class="flex-grow space-y-1 overflow-y-auto pr-2" id="main-nav">
                    <!-- Nav items generated via JS -->
                </nav>

                <div class="mt-6 pt-6 border-t border-slate-200">
                    <button onclick="window.scrollTo({top:0, behavior:'smooth'})" class="w-full text-left px-4 py-2 text-sm font-semibold text-slate-600 hover:text-indigo-900 flex items-center gap-2">
                        <span>&#8593;</span> В начало
                    </button>
                </div>
            </div>
        </aside>

        <!-- Main Content Area -->
        <main class="flex-grow lg:ml-72 bg-white min-h-screen">
            <!-- Header Section -->
            <header class="relative bg-indigo-900 text-white py-20 px-8 overflow-hidden">
                <div class="absolute top-0 right-0 opacity-10 pointer-events-none">
                    <span class="text-[300px] leading-none font-bold">&#10043;</span>
                </div>
                <div class="max-w-4xl mx-auto relative z-10">
                    <div class="inline-block px-3 py-1 bg-indigo-400/30 rounded-full text-xs font-bold tracking-widest uppercase mb-4">Академический стандарт 2024</div>
                    <h1 class="text-4xl md:text-6xl font-title mb-6 leading-tight">Научный Стиль Речи: Интерактивное Погружение</h1>
                    <p class="text-indigo-100 text-lg md:text-xl max-w-2xl leading-relaxed">
                        Этот справочник объединяет теорию и практику для подготовки к тесту. Каждая тема разобрана до мельчайших специфических особенностей (Specificities).
                    </p>
                </div>
            </header>

            <!-- Dashboard / Overview -->
            <div class="max-w-6xl mx-auto px-8 py-12">
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-20">
                    <div class="glass-card p-6 rounded-2xl border-l-4 border-indigo-500 shadow-sm">
                        <div class="text-3xl font-bold mb-1">13</div>
                        <div class="text-sm text-slate-500 uppercase font-bold tracking-wider">Ключевых Тем</div>
                    </div>
                    <div class="glass-card p-6 rounded-2xl border-l-4 border-teal-500 shadow-sm">
                        <div class="text-3xl font-bold mb-1">130+</div>
                        <div class="text-sm text-slate-500 uppercase font-bold tracking-wider">Примеров (Use Cases)</div>
                    </div>
                    <div class="glass-card p-6 rounded-2xl border-l-4 border-orange-500 shadow-sm">
                        <div class="text-3xl font-bold mb-1">100%</div>
                        <div class="text-sm text-slate-500 uppercase font-bold tracking-wider">Готовность к тесту</div>
                    </div>
                </div>

                <!-- Dynamic Content Sections -->
                <div id="content-sections" class="space-y-32 pb-32">
                    <!-- Sections will be injected here -->
                </div>
            </div>
        </main>
    </div>

    <script>
        /* ================================================================
        DATA REPOSITORY
        ================================================================
        */
        const DATA = [
            {
                id: "nsr-traits",
                title: "1. Языковые характеристики НСР и Квалификация",
                intro: "Научный стиль речи (НСР) — это инструмент объективного познания. Главная специфика здесь кроется в 'номинализации' (преобладании имен над глаголами) и стремлении к предельной точности через терминологию. В этом разделе мы изучим, как строятся определения объектов (квалификация), что является фундаментом любого научного текста.",
                content: {
                    characteristics: [
                        { t: "Терминологичность", d: "Использование слов в одном, строго фиксированном значении.", ex: "алгоритм, верификация, семантика, транзакция, интерфейс." },
                        { t: "Номинализация", d: "Замена глаголов существительными для передачи статичности процесса.", ex: "изучать → изучение, создавать → создание, хранить → хранение." },
                        { t: "Объективность", d: "Использование авторского 'мы' и безличных конструкций.", ex: "Нами установлено..., Мы приходим к выводу..." },
                        { t: "Логичность", d: "Жесткая связь между частями текста через вводные слова.", ex: "следовательно, таким образом, итак, во-первых." }
                    ],
                    qualification: [
                        { model: "Что — это Что (И.п. - И.п.)", question: "Что такое?", case: "Им.п.", use: "Классическое определение понятия.", examples: ["Кибернетика — это наука об управлении.", "ПК — это инструмент инженера.", "Интернет — это глобальная сеть.", "Алгоритм — это порядок действий.", "Данные — это массив информации.", "Вирус — это код.", "Модель — это упрощенный объект.", "Теория — это система взглядов.", "Метод — это способ.", "Гипотеза — это предположение."] },
                        { model: "Что является Чем (И.п. - Тв.п.)", question: "Чем является?", case: "Твор.п.", use: "Официальное научное определение.", examples: ["Математика является основой вычислений.", "Среда является фактором развития.", "Процесс является цикличным.", "Данный метод является приоритетным.", "Система является открытой.", "Параметр является критическим.", "Связь является устойчивой.", "Объект является материальным.", "Факт является доказанным.", "Скорость является вектором."] }
                    ]
                },
                type: "dashboard"
            },
            {
                id: "plans",
                title: "2-3. Виды плана: Вопросный и Назывной",
                intro: "План — это архитектурная схема текста и самая краткая форма его сжатия. Преподаватели часто спрашивают разницу между назывным и вопросным планом. Назывной фиксирует 'темы' (существительные), в то время как вопросный нацеливает на 'поиск ответов' (глагольные связи в вопросах).",
                content: {
                    nominative: {
                        def: "Состоит из назывных предложений (существительных). Перечисляет основные проблемы.",
                        rules: "Нет глаголов, пункты краткие (2-4 слова).",
                        examples: ["1. История появления ЭВМ.", "2. Архитектура современных процессоров.", "3. Классификация языков программирования.", "4. Особенности системного ПО.", "5. Методы защиты информации.", "6. Роль ИИ в медицине.", "7. Понятие 'облачные вычисления'.", "8. Применение блокчейна в логистике.", "9. Этапы проектирования баз данных.", "10. Перспективы развития квантовых компьютеров."]
                    },
                    question: {
                        def: "Состоит из прямых вопросов к смысловым частям текста.",
                        rules: "Вопрос задается к каждой микротеме. Помогает при подготовке выступления.",
                        examples: ["1. Когда появились первые ЭВМ?", "2. В чем особенности современных процессоров?", "3. Как классифицируются языки?", "4. Какие функции выполняет системное ПО?", "5. Каковы методы защиты информации?", "6. Как ИИ применяется в медицине?", "7. Что такое 'облачные вычисления'?", "8. Где применяется технология блокчейн?", "9. Каковы этапы проектирования БД?", "10. Какие перспективы у квантовых компьютеров?"]
                    }
                },
                type: "compare"
            },
            {
                id: "annotations",
                title: "4-5. Аннотации: Виды и Классификация",
                intro: "Аннотация отвечает на вопрос 'О чем текст?'. Это второй уровень обобщения после заголовка. Специфика теста: уметь отличить справочную аннотацию (объективные факты) от рекомендательной (оценка и привлечение внимания).",
                content: {
                    types: [
                        { t: "Справочная (информационная)", d: "Только факты: автор, тема, жанр. Без оценки.", ex: "В статье рассматриваются алгоритмы шифрования. Описаны методы защиты данных." },
                        { t: "Рекомендательная", d: "Оценивает работу, чтобы заинтересовать читателя.", ex: "Данная книга — лучший путеводитель по Python. Рекомендуется новичкам." }
                    ],
                    cliches: [
                        "Статья посвящена вопросу...", "В работе рассматриваются проблемы...", "Автор ставит целью проанализировать...", "Статья предназначена для студентов...", "В книге выделяются следующие главы..."
                    ],
                    useCases: [
                        "Поиск в базах данных (Scopus/eLibrary).", "Сигнальная функция в библиотеках.", "Краткий обзор в начале научной статьи.", "Каталогизация литературы."
                    ]
                },
                type: "info-grid"
            },
            {
                id: "abstracting",
                title: "6-7. Реферирование и Дублирующая информация",
                intro: "Реферат — это изложение 'самого содержания' (что именно написано?). Один из главных секретов реферирования в НСР — удаление дублирующей информации. Это те части текста, которые поясняют термины (после слов 'то есть', 'или'). В научном тексте для профессионалов их можно опускать.",
                content: {
                    referat: {
                        def: "Реферат-конспект содержит факты, методы и выводы в обобщенном виде.",
                        structure: "Введение (тема) → Основная часть (факты) → Заключение (выводы)."
                    },
                    duplication: {
                        markers: ["то есть (т.е.)", "иными словами", "другими словами", "или (в значении определения)", "это означает", "иначе говоря"],
                        examples: [
                            { full: "Информатика, то есть наука о данных, изучает...", comp: "Информатика изучает..." },
                            { full: "Массив, или упорядоченный набор данных, хранится...", comp: "Массив хранится..." },
                            { full: "Итерация, что означает повторение шага, началась...", comp: "Итерация началась..." },
                            { full: "Сегментация, иначе говоря разделение на части, важна...", comp: "Сегментация важна..." },
                            { full: "Алгоритм, иными словами последовательность действий...", comp: "Алгоритм — это последовательность..." },
                            { full: "Верификация, т.е. проверка на соответствие...", comp: "Верификация необходима для..." },
                            { full: "Транзакция, или перевод средств, прошла успешно...", comp: "Транзакция прошла успешно..." },
                            { full: "Интерфейс, то есть среда взаимодействия...", comp: "Интерфейс должен быть удобным..." },
                            { full: "Синтаксис, другими словами правила построения...", comp: "Синтаксис языка программирования..." },
                            { full: "Компиляция, что означает сборку проекта...", comp: "Компиляция завершена." }
                        ]
                    }
                },
                type: "logic-flow"
            },
            {
                id: "concession",
                title: "8. Выражение уступки в русском языке",
                intro: "Конструкции уступки показывают, что действие совершается вопреки какому-то фактору. На тесте важно не путать падежи после предлогов 'несмотря на' (В.п.) и 'вопреки' (Д.п.).",
                content: {
                    rules: [
                        { m: "Несмотря на + Винительный п.", use: "Вопреки физическим или внешним условиям.", ex: "Несмотря на сложность задачи, мы её решили." },
                        { m: "Вопреки + Дательный п.", use: "Противодействие ожиданиям или законам.", ex: "Вопреки прогнозам экспертов, система стабильна." },
                        { m: "Хотя + предложение (СПП)", use: "Логическое противопоставление.", ex: "Хотя технология нова, она надежна." }
                    ],
                    examples: [
                        "1. Несмотря на высокую стоимость, чипы пользуются спросом.",
                        "2. Вопреки законам трения, деталь продолжает движение.",
                        "3. Несмотря на отсутствие данных, выводы были сделаны.",
                        "4. Вопреки моим ожиданиям, тест оказался легким.",
                        "5. Хотя база данных велика, поиск идет мгновенно.",
                        "6. Несмотря на дождь, эксперимент прошел на улице.",
                        "7. Вопреки запрету, доступ к серверу был открыт.",
                        "8. Хотя алгоритм сложен, он потребляет мало памяти.",
                        "9. Несмотря на новизну метода, результаты точны.",
                        "10. Вопреки критике, проект получил финансирование."
                    ]
                },
                type: "case-list"
            },
            {
                id: "participles",
                title: "9-11. Причастия: Активные и Страдательные",
                intro: "Причастие — это 'гибрид' глагола и прилагательного. В НСР причастия используются для компрессии: вместо 'человек, который пишет код' мы говорим 'человек, пишущий код'. Специфика теста: суффиксы -ущ-/-ющ- (активные) против -ем-/-им- (страдательные).",
                content: {
                    active: {
                        suffixes: "-ущ-/-ющ- (1 спр), -ащ-/-ящ- (2 спр) - Наст; -вш-/-ш- - Прош.",
                        examples: ["1. Работающий сервер.", "2. Изучающий проблему ученый.", "3. Поступающий сигнал.", "4. Создающий модель инженер.", "5. Кодирующий данные алгоритм.", "6. Просивший помощи студент.", "7. Выросший показатель.", "8. Принесший результаты тест.", "9. Помнивший пароль пользователь.", "10. Пишущий программу автор."]
                    },
                    passive: {
                        suffixes: "-ем- (1 спр), -им- (2 спр) - Наст; -нн-/-енн-/-т- - Прош.",
                        examples: ["1. Решаемая задача.", "2. Изучаемый объект.", "3. Передаваемый сигнал.", "4. Проверяемый файл.", "5. Вызываемый модуль.", "6. Созданный проект.", "7. Решённая проблема.", "8. Взятый параметр.", "9. Разработанный метод.", "10. Прочитанная статья."]
                    },
                    transform: [
                        { f: "Ученый, который открыл закон", t: "Ученый, открывший закон" },
                        { f: "Программа, которую мы создаем", t: "Создаваемая нами программа" },
                        { f: "Файл, который удалили вчера", t: "Удаленный вчера файл" }
                    ]
                },
                type: "morph-table"
            },
            {
                id: "passive-const",
                title: "12. Пассивные конструкции и Свойства объекта",
                intro: "Пассивные конструкции в НСР используются для смещения фокуса с субъекта на результат. Специфика теста: глаголы на '-ся' и краткие страдательные причастия. Также здесь рассматриваются способы выражения свойств ('обладает чем', 'характерно что').",
                content: {
                    passive: [
                        { m: "Глаголы на -ся", ex: "Данные сохраняются системой автоматически." },
                        { m: "Краткие причастия", ex: "Технологии разработаны ведущими инженерами." }
                    ],
                    properties: [
                        { m: "Объект обладает (чем? Тв.п.)", ex: "Система обладает высокой надежностью." },
                        { m: "Объекту характерно/свойственно (что? И.п.)", ex: "Методу характерна высокая точность." }
                    ],
                    examples: [
                        "1. Запросы удовлетворяются в минимальные сроки.",
                        "2. Решения предоставляются менеджерам.",
                        "3. Ошибки исправляются программистом.",
                        "4. Файл открыт для чтения.",
                        "5. Доступ ограничен администратором.",
                        "6. Алгоритм характеризуется простотой.",
                        "7. Устройство обладает малым весом.",
                        "8. Поверхности свойственна шероховатость.",
                        "9. Связь устанавливается мгновенно.",
                        "10. Результаты подведены комиссией."
                    ]
                },
                type: "grid-display"
            },
            {
                id: "parts-of-speech",
                title: "13. Какие части речи в русском языке? (НСР)",
                intro: "В НСР части речи перераспределяют свои функции. Существительные становятся 'главными' (номинализация), а глаголы часто превращаются в связки. В этом разделе мы вспомним все 10 частей речи и их роль в научном тексте.",
                content: [
                    { n: "Существительное", role: "Доминирует в НСР. Обозначает процессы и понятия.", ex: "Изучение, явление, алгоритм." },
                    { n: "Прилагательное", role: "Обозначает признаки терминов.", ex: "Цифровой, программный, технический." },
                    { n: "Глагол", role: "Часто используется как связка в определениях.", ex: "Является, называется, служит." },
                    { n: "Числительное", role: "Точность данных.", ex: "Восемь бит, первый этап." },
                    { n: "Местоимение", role: "Указывает на объекты без называния.", ex: "Мы, этот, такой, данный." },
                    { n: "Наречие", role: "Признак действия.", ex: "Логично, точно, последовательно." },
                    { n: "Предлог", role: "Связь между словами.", ex: "В, на, вопреки, несмотря на." },
                    { n: "Союз", role: "Логика предложения.", ex: "Хотя, так как, потому что." },
                    { n: "Частица", role: "Усиление или отрицание.", ex: "Именно, только, не." },
                    { n: "Причастие", role: "Сжатие придаточных предложений.", ex: "Используемый, открытый." }
                ],
                type: "pos-reference"
            }
        ];

        /* ================================================================
        INTERACTION LOGIC
        ================================================================
        */
        function toggleSidebar() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('-translate-x-full');
        }

        function createNavigation() {
            const nav = document.getElementById('main-nav');
            DATA.forEach(topic => {
                const btn = document.createElement('button');
                btn.className = "w-full text-left px-4 py-3 text-sm font-medium text-slate-600 rounded-xl hover:bg-slate-100 transition-all duration-200 mb-1 flex items-center justify-between group";
                btn.innerHTML = `
                    <span class="truncate">${topic.title.split('.')[0] + '.' + topic.title.split('.')[1]}</span>
                    <span class="opacity-0 group-hover:opacity-100 text-xs text-indigo-500">&#8594;</span>
                `;
                btn.onclick = () => {
                    document.getElementById(topic.id).scrollIntoView({ behavior: 'smooth' });
                    if (window.innerWidth < 1024) toggleSidebar();
                };
                nav.appendChild(btn);
            });
        }

        function renderSections() {
            const container = document.getElementById('content-sections');
            DATA.forEach(section => {
                const sectionEl = document.createElement('section');
                sectionEl.id = section.id;
                sectionEl.className = "scroll-mt-10";

                let innerHTML = `
                    <div class="mb-10">
                        <h2 class="text-3xl font-title text-indigo-900 mb-4">${section.title}</h2>
                        <div class="bg-indigo-50/50 p-6 rounded-2xl border-l-4 border-indigo-200 text-indigo-900/80 leading-relaxed italic">
                            ${section.intro}
                        </div>
                    </div>
                `;

                innerHTML += renderTypeSpecificContent(section);
                sectionEl.innerHTML = innerHTML;
                container.appendChild(sectionEl);
            });
        }

        function renderTypeSpecificContent(section) {
            switch (section.type) {
                case "dashboard":
                    return `
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-10">
                            <div class="chart-container glass-card p-4 rounded-2xl">
                                <canvas id="chart-${section.id}"></canvas>
                            </div>
                            <div class="space-y-4">
                                <h3 class="font-bold text-slate-800 uppercase text-xs tracking-widest mb-4">Языковые признаки (Характеристики)</h3>
                                ${section.content.characteristics.map(c => `
                                    <div class="p-4 bg-white rounded-xl shadow-sm border border-slate-100 hover:shadow-md transition">
                                        <div class="font-bold text-indigo-900 mb-1">${c.t}</div>
                                        <div class="text-sm text-slate-500 mb-2">${c.d}</div>
                                        <div class="text-xs font-mono text-teal-600 bg-teal-50 px-2 py-1 rounded inline-block">${c.ex}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        <div class="glass-card p-8 rounded-2xl">
                             <h3 class="font-bold text-slate-800 uppercase text-xs tracking-widest mb-6">Конструкции квалификации (10+ примеров)</h3>
                             <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                ${section.content.qualification.map(q => `
                                    <div class="border border-slate-200 rounded-xl overflow-hidden">
                                        <div class="bg-slate-100 p-3 text-sm font-bold border-b border-slate-200">${q.model}</div>
                                        <div class="p-4 bg-white max-h-48 overflow-y-auto space-y-2">
                                            ${q.examples.map(ex => `<div class="text-sm text-slate-600 border-b border-slate-50 pb-1 last:border-0">${ex}</div>`).join('')}
                                        </div>
                                    </div>
                                `).join('')}
                             </div>
                        </div>
                    `;
                case "compare":
                    return `
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                            <div class="bg-indigo-50/30 p-8 rounded-3xl border border-indigo-100 h-full">
                                <div class="w-12 h-12 bg-indigo-900 text-white flex items-center justify-center rounded-2xl mb-6 font-bold">Н</div>
                                <h3 class="text-xl font-bold mb-2">Назывной План</h3>
                                <p class="text-sm text-slate-500 mb-4">${section.content.nominative.def}</p>
                                <div class="text-xs font-bold text-indigo-500 mb-6 uppercase tracking-widest">Примеры:</div>
                                <ul class="space-y-3">
                                    ${section.content.nominative.examples.map(ex => `
                                        <li class="flex items-start gap-3 text-sm text-slate-700 bg-white p-3 rounded-xl shadow-sm">
                                            <span class="text-indigo-900 font-bold">&#10003;</span> ${ex}
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                            <div class="bg-teal-50/30 p-8 rounded-3xl border border-teal-100 h-full">
                                <div class="w-12 h-12 bg-teal-600 text-white flex items-center justify-center rounded-2xl mb-6 font-bold">В</div>
                                <h3 class="text-xl font-bold mb-2">Вопросный План</h3>
                                <p class="text-sm text-slate-500 mb-4">${section.content.question.def}</p>
                                <div class="text-xs font-bold text-teal-600 mb-6 uppercase tracking-widest">Примеры:</div>
                                <ul class="space-y-3">
                                    ${section.content.question.examples.map(ex => `
                                        <li class="flex items-start gap-3 text-sm text-slate-700 bg-white p-3 rounded-xl shadow-sm">
                                            <span class="text-teal-600 font-bold">&#63;</span> ${ex}
                                        </li>
                                    `).join('')}
                                </ul>
                            </div>
                        </div>
                    `;
                case "info-grid":
                    return `
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                            ${section.content.types.map(type => `
                                <div class="p-8 rounded-3xl border border-slate-200 bg-white hover:border-indigo-300 transition-all">
                                    <h3 class="text-lg font-bold text-indigo-900 mb-2">${type.t}</h3>
                                    <p class="text-sm text-slate-500 mb-4">${type.d}</p>
                                    <div class="text-xs italic bg-slate-50 p-3 rounded-lg border-l-2 border-indigo-200">"${type.ex}"</div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                            <div class="glass-card p-8 rounded-2xl">
                                <h4 class="font-bold text-xs uppercase tracking-widest text-slate-400 mb-6">Языковые клише (Для теста)</h4>
                                <div class="flex flex-wrap gap-2">
                                    ${section.content.cliches.map(c => `<span class="px-3 py-1 bg-white border border-slate-100 rounded-full text-xs text-slate-600 shadow-sm">${c}</span>`).join('')}
                                </div>
                            </div>
                            <div class="glass-card p-8 rounded-2xl">
                                <h4 class="font-bold text-xs uppercase tracking-widest text-slate-400 mb-6">Use Cases (Где применять?)</h4>
                                <div class="grid grid-cols-2 gap-4">
                                    ${section.content.useCases.map(u => `<div class="text-xs font-bold text-indigo-900 flex items-center gap-2"><span>&#10045;</span> ${u}</div>`).join('')}
                                </div>
                            </div>
                        </div>
                    `;
                case "logic-flow":
                    return `
                        <div class="bg-slate-900 text-white rounded-3xl p-10 mb-8 overflow-hidden relative">
                            <div class="absolute -right-20 -top-20 opacity-5 text-[200px]">&#9986;</div>
                            <h3 class="text-2xl font-bold mb-6">Мастер Сжатия: Удаление Дублирования</h3>
                            <div class="flex flex-wrap gap-2 mb-10">
                                ${section.content.duplication.markers.map(m => `<span class="px-4 py-2 bg-indigo-500/20 border border-indigo-400/30 rounded-full text-xs font-mono">${m}</span>`).join('')}
                            </div>
                            <div class="grid grid-cols-1 gap-4 max-h-[400px] overflow-y-auto pr-4 custom-scroll">
                                ${section.content.duplication.examples.map(ex => `
                                    <div class="bg-white/5 border border-white/10 p-4 rounded-2xl hover:bg-white/10 transition">
                                        <div class="text-xs text-slate-400 mb-1">Исходник:</div>
                                        <div class="text-sm italic mb-3">${ex.full}</div>
                                        <div class="text-xs text-teal-400 mb-1">Результат:</div>
                                        <div class="text-sm font-bold text-teal-300">${ex.comp}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                case "case-list":
                    return `
                        <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
                            ${section.content.rules.map(rule => `
                                <div class="glass-card p-6 rounded-2xl border-t-4 border-indigo-500">
                                    <div class="font-bold text-indigo-900 mb-1">${rule.m}</div>
                                    <div class="text-xs text-slate-500 mb-4">${rule.use}</div>
                                    <div class="text-xs font-mono p-2 bg-indigo-50 rounded">Пример: ${rule.ex}</div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="p-8 rounded-3xl border border-slate-100 bg-white">
                            <h4 class="font-bold text-xs uppercase tracking-widest text-slate-400 mb-6">Список примеров (10+ Use Cases)</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-3">
                                ${section.content.examples.map(ex => `<div class="text-sm text-slate-600 border-b border-slate-50 pb-2">${ex}</div>`).join('')}
                            </div>
                        </div>
                    `;
                case "morph-table":
                    return `
                        <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                            <div class="glass-card p-8 rounded-3xl border-l-8 border-indigo-900">
                                <h3 class="text-xl font-bold mb-4">Активные Причастия</h3>
                                <p class="text-xs text-slate-400 mb-6">${section.content.active.suffixes}</p>
                                <div class="grid grid-cols-1 gap-2">
                                    ${section.content.active.examples.map(ex => `<div class="text-sm bg-slate-50 p-2 rounded">${ex}</div>`).join('')}
                                </div>
                            </div>
                            <div class="glass-card p-8 rounded-3xl border-l-8 border-teal-600">
                                <h3 class="text-xl font-bold mb-4">Страдательные Причастия</h3>
                                <p class="text-xs text-slate-400 mb-6">${section.content.passive.suffixes}</p>
                                <div class="grid grid-cols-1 gap-2">
                                    ${section.content.passive.examples.map(ex => `<div class="text-sm bg-teal-50/50 p-2 rounded">${ex}</div>`).join('')}
                                </div>
                            </div>
                        </div>
                        <div class="bg-indigo-900 text-white p-8 rounded-3xl">
                            <h4 class="font-bold text-sm mb-6 uppercase tracking-widest">Трансформация (Для компрессии текста)</h4>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                ${section.content.transform.map(t => `
                                    <div class="bg-white/5 p-4 rounded-xl border border-white/10">
                                        <div class="text-[10px] text-indigo-300 uppercase mb-2">От фразы:</div>
                                        <div class="text-sm italic mb-2">${t.f}</div>
                                        <div class="text-[10px] text-teal-400 uppercase mb-2">К причастию:</div>
                                        <div class="text-sm font-bold text-teal-300">${t.t}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    `;
                case "grid-display":
                    return `
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
                            <div class="p-8 rounded-3xl bg-slate-50 border border-slate-200">
                                <h3 class="text-xl font-bold mb-6">Пассивные конструкции</h3>
                                ${section.content.passive.map(p => `
                                    <div class="mb-4 last:mb-0">
                                        <div class="text-xs font-bold text-indigo-900 uppercase mb-1">${p.m}</div>
                                        <div class="text-sm text-slate-600 italic">Пример: ${p.ex}</div>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="p-8 rounded-3xl bg-teal-50/30 border border-teal-100">
                                <h3 class="text-xl font-bold mb-6">Выражение Свойств</h3>
                                ${section.content.properties.map(p => `
                                    <div class="mb-4 last:mb-0">
                                        <div class="text-xs font-bold text-teal-700 uppercase mb-1">${p.m}</div>
                                        <div class="text-sm text-slate-600 italic">Пример: ${p.ex}</div>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        <div class="glass-card p-8 rounded-3xl">
                            <h4 class="font-bold text-xs uppercase tracking-widest text-slate-400 mb-6">Список примеров (10+ Use Cases)</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-3">
                                ${section.content.examples.map(ex => `<div class="text-sm text-slate-600 border-b border-slate-50 pb-2">${ex}</div>`).join('')}
                            </div>
                        </div>
                    `;
                case "pos-reference":
                    return `
                        <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
                            ${section.content.map(pos => `
                                <div class="p-6 rounded-2xl bg-white border border-slate-200 shadow-sm hover:shadow-md transition">
                                    <h4 class="font-bold text-indigo-900 mb-2">${pos.n}</h4>
                                    <p class="text-[10px] text-slate-400 uppercase font-bold mb-3 tracking-tighter">${pos.role}</p>
                                    <div class="text-xs font-bold text-teal-600">Пример: ${pos.ex}</div>
                                </div>
                            `).join('')}
                        </div>
                    `;
                default:
                    return `<p>Контент в разработке...</p>`;
            }
        }

        function initCharts() {
            // Chart for Topic 1
            const ctx1 = document.getElementById('chart-nsr-traits').getContext('2d');
            new Chart(ctx1, {
                type: 'doughnut',
                data: {
                    labels: ['Существительные (Процесс)', 'Глаголы (Действие)', 'Термины', 'Служебные'],
                    datasets: [{
                        data: [45, 15, 25, 15],
                        backgroundColor: ['#2D336B', '#A9B5DF', '#0D9488', '#F1F5F9'],
                        borderColor: 'transparent'
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { position: 'bottom', labels: { boxWidth: 10, font: { size: 10 } } },
                        title: { display: true, text: 'Частотность частей речи в НСР (Ориентировочно)', font: { size: 12, weight: 'bold' } }
                    }
                }
            });
        }

        /* ================================================================
        INITIALIZATION
        ================================================================
        */
        window.onload = function() {
            createNavigation();
            renderSections();
            initCharts();
            
            // Add scroll listener for active nav highlight
            window.addEventListener('scroll', () => {
                let current = "";
                DATA.forEach(section => {
                    const sectionTop = document.getElementById(section.id).offsetTop;
                    if (pageYOffset >= sectionTop - 150) {
                        current = section.id;
                    }
                });

                document.querySelectorAll('#main-nav button').forEach(btn => {
                    btn.classList.remove('topic-active');
                    if (btn.onclick.toString().includes(current)) {
                        btn.classList.add('topic-active');
                    }
                });
            });
        };
    </script>
</body>
</html>
