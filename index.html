<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Подготовка к контрольной: Русский Язык (НСР)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Font Awesome for Icons (No SVG tags) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 4px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }

        /* Chart Container Styling */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }

        /* Card Hover Effects */
        .interactive-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .interactive-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1);
        }

        /* Fade Animation */
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 font-sans antialiased h-screen flex flex-col overflow-hidden">

    <!-- Navbar -->
    <nav class="bg-white border-b border-slate-200 shadow-sm z-10">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex items-center">
                    <i class="fa-solid fa-graduation-cap text-indigo-600 text-2xl mr-3"></i>
                    <span class="font-bold text-xl tracking-tight text-slate-900">Ревизор НСР</span>
                </div>
                <div class="flex items-center space-x-4">
                    <span class="text-sm text-slate-500 hidden sm:block">Время подготовки: ~1 час</span>
                    <button id="resetBtn" class="text-indigo-600 hover:text-indigo-800 text-sm font-medium">
                        <i class="fa-solid fa-rotate-right mr-1"></i> Сброс
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content Layout -->
    <div class="flex flex-1 overflow-hidden">
        
        <!-- Sidebar Navigation -->
        <aside class="w-64 bg-white border-r border-slate-200 hidden md:flex flex-col overflow-y-auto">
            <div class="p-4">
                <h3 class="text-xs font-semibold text-slate-400 uppercase tracking-wider mb-4">Темы Контрольной</h3>
                <nav class="space-y-2" id="desktopNav">
                    <!-- Nav items injected by JS -->
                </nav>
            </div>
            <div class="mt-auto p-4 border-t border-slate-100">
                <div class="bg-indigo-50 rounded-lg p-4">
                    <h4 class="text-sm font-bold text-indigo-800 mb-2">Совет:</h4>
                    <p class="text-xs text-indigo-600" id="sidebarTip">Изучите клише для введения и заключения реферата.</p>
                </div>
            </div>
        </aside>

        <!-- Mobile Navigation -->
        <div class="md:hidden fixed bottom-0 w-full bg-white border-t border-slate-200 z-50 flex justify-around p-2" id="mobileNav">
            <!-- Mobile nav items injected by JS -->
        </div>

        <!-- Main View Area -->
        <main class="flex-1 overflow-y-auto bg-slate-50 p-4 md:p-8 pb-20 md:pb-8 relative" id="mainContent">
            <!-- Content views injected by JS -->
        </main>
    </div>

    <!-- JavaScript Logic -->
    <script>
        const appData = {
            topics: [
                {
                    id: 'grammar',
                    title: '1. Вопросный план и Части речи',
                    icon: 'fa-spell-check',
                    intro: 'Научный стиль речи (НСР) имеет «именной» характер. Здесь мы разберем особенности вопросного плана и использования существительных, глаголов и причастий.',
                    content: {
                        plan: {
                            title: "Вопросный план",
                            desc: "План в форме вопросов к смысловым частям текста.",
                            rules: [
                                "Используйте вопросительные слова: Как? Почему? Что?",
                                "Избегайте частицы «ли» (Пример: Неверно — «Есть ли...?»).",
                                "Один вопрос на одну микротему."
                            ],
                            example: {
                                text: "Робототехника — это прикладная наука, занимающаяся разработкой автоматизированных технических систем.",
                                result: "Что такое робототехника?"
                            }
                        },
                        grammar: {
                            title: "Части речи в НСР",
                            features: [
                                { type: "Существительные", desc: "Преобладают над глаголами. Часто используются цепочки в Родительном падеже.", ex: "Автоматизация (чего?) процессов (чего?) обработки." },
                                { type: "Глаголы", desc: "Чаще всего НСВ (несовершенный вид), наст. время, значение «всегда/постоянно».", ex: "Вода кипит при 100 градусах." },
                                { type: "Причастия", desc: "Активно используются для определений.", ex: "Студент, выполняющий (действ.) / Задание, выполняемое (страд.)." }
                            ]
                        }
                    }
                },
                {
                    id: 'syntax',
                    title: '2. Условие и Назывной план',
                    icon: 'fa-diagram-project',
                    intro: 'Научный текст требует точности. Узнайте, как трансформировать сложные предложения с условием в простые и как составлять назывной план.',
                    content: {
                        nominalPlan: {
                            title: "Назывной план",
                            desc: "План, состоящий из назывных (номинативных) предложений. Глаголы не используются.",
                            features: ["Только подлежащее и его группа", "Обычно 2–4 слова", "Фиксирует информативные центры"]
                        },
                        conditionals: [
                            { complex: "Если нагреть воду до 100 градусов, она закипит.", simple: "При нагревании воды до 100 градусов она закипит." },
                            { complex: "Если есть ошибки, программа не запустится.", simple: "При наличии ошибок программа не запустится." },
                            { complex: "Если использовать этот метод...", simple: "Используя этот метод... (или При использовании этого метода)" }
                        ]
                    }
                },
                {
                    id: 'abstracting',
                    title: '3. Реферирование',
                    icon: 'fa-file-pen',
                    intro: 'Аналитическая переработка информации — это сжатие текста. Разберем этапы создания реферата и его виды.',
                    content: {
                        process: [
                            { step: "1. Чтение", detail: "Полный анализ первоисточника." },
                            { step: "2. Компрессия", detail: "Отделение главного от второстепенного. Удаление повторов." },
                            { step: "3. Обобщение", detail: "Соединение фактов в логическое целое." },
                            { step: "4. Перефразирование", detail: "Использование клише научного стиля (Автор отмечает...)." }
                        ],
                        types: ["Информативные (Реферат-конспект)", "Индикативные (Реферат-резюме)"]
                    }
                },
                {
                    id: 'structure',
                    title: '4. Структура и Клише',
                    icon: 'fa-layer-group',
                    intro: 'Правильная структура и использование клише — залог успешного реферата. Изучите модель реферата и правила оформления.',
                    content: {
                        sections: [
                            { name: "Введение", cliches: ["Статья посвящена (чему?)...", "Актуальность темы заключается в...", "Целью работы является..."] },
                            { name: "Основная часть", cliches: ["Автор отмечает, что...", "Далее рассматривается...", "Особое внимание уделяется..."] },
                            { name: "Заключение", cliches: ["В заключение делается вывод...", "Автор приходит к выводу, что...", "Безусловной заслугой автора является..."] }
                        ],
                        duplicateInfo: {
                            title: "Дублирующая информация",
                            desc: "Повторение информации другими словами. В реферате обычно сокращается, но синонимы оставляют для связности.",
                            example: "Информатика, или наука о способах обработки информации -> Информатика"
                        }
                    }
                },
                {
                    id: 'models',
                    title: '5. Выражение-модель',
                    icon: 'fa-language',
                    intro: 'Основные синтаксические модели для выражения свойств и характеристик объектов. Эти конструкции являются фундаментом научного описания технологий и систем.',
                    content: [
                        { model: "Существительное + есть / является + Существительное", desc: "Классическая модель дефиниции или отнесения объекта к классу.", ex: "Трансформер является нейросетевой архитектурой, основанной на механизме внимания." },
                        { model: "Существительное + обладает / имеет + Существительное", desc: "Описание внутренних параметров или функциональных возможностей.", ex: "Данный алгоритм обладает высокой вычислительной мощностью." },
                        { model: "Существительное + характеризуется + Существительным (Тв.п.)", desc: "Акцент на специфических признаках, отличающих одну модель от другой.", ex: "Обучение с подкреплением характеризуется наличием агента и системы вознаграждений." },
                        { model: "Существительное + Краткое прилагательное", desc: "Выражение качественного состояния или актуального свойства в сжатой форме.", ex: "Метод градиентного спуска эффективен при поиске локального минимума." },
                        { model: "Существительное + отличается / выделяется + Существительным", desc: "Указывает на дифференциальные признаки или уникальные характеристики.", ex: "Модель Llama 3 отличается оптимизированными весами и улучшенной токенизацией." }
                    ]
                }
            ]
        };

        let currentState = {
            activeTab: 'grammar'
        };

        function init() {
            renderNav();
            loadView(currentState.activeTab);
            document.getElementById('resetBtn').addEventListener('click', () => loadView('grammar'));
        }

        function renderNav() {
            const desktopNav = document.getElementById('desktopNav');
            const mobileNav = document.getElementById('mobileNav');
            desktopNav.innerHTML = '';
            mobileNav.innerHTML = '';

            appData.topics.forEach(topic => {
                const dBtn = document.createElement('button');
                dBtn.className = `w-full flex items-center p-3 rounded-lg text-sm font-medium transition-colors mb-1 ${currentState.activeTab === topic.id ? 'bg-indigo-50 text-indigo-700' : 'text-slate-600 hover:bg-slate-50'}`;
                dBtn.onclick = () => loadView(topic.id);
                dBtn.innerHTML = `<i class="fa-solid ${topic.icon} w-6"></i> ${topic.title}`;
                desktopNav.appendChild(dBtn);

                const mBtn = document.createElement('button');
                mBtn.className = `flex flex-col items-center p-2 text-xs ${currentState.activeTab === topic.id ? 'text-indigo-600' : 'text-slate-500'}`;
                mBtn.onclick = () => loadView(topic.id);
                mBtn.innerHTML = `<i class="fa-solid ${topic.icon} text-lg mb-1"></i>`;
                mobileNav.appendChild(mBtn);
            });
        }

        function loadView(tabId) {
            currentState.activeTab = tabId;
            renderNav();
            const contentDiv = document.getElementById('mainContent');
            contentDiv.innerHTML = '';
            const container = document.createElement('div');
            container.className = 'fade-in max-w-4xl mx-auto';
            const topic = appData.topics.find(t => t.id === tabId);

            container.innerHTML = `
                <div class="mb-8">
                    <h1 class="text-3xl font-bold text-slate-900 mb-2">${topic.title}</h1>
                    <p class="text-lg text-slate-600">${topic.intro}</p>
                </div>
            `;

            if (tabId === 'grammar') renderGrammarView(container, topic);
            if (tabId === 'syntax') renderSyntaxView(container, topic);
            if (tabId === 'abstracting') renderAbstractingView(container, topic);
            if (tabId === 'structure') renderStructureView(container, topic);
            if (tabId === 'models') renderModelView(container, topic);

            contentDiv.appendChild(container);
        }

        function renderModelView(container, data) {
            const gridHTML = `
                <div class="space-y-6">
                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                        <table class="w-full text-left border-collapse">
                            <thead>
                                <tr class="bg-indigo-600 text-white">
                                    <th class="p-4 font-semibold">Модель / Конструкция</th>
                                    <th class="p-4 font-semibold hidden md:table-cell">Характеристика</th>
                                    <th class="p-4 font-semibold text-right">Действие</th>
                                </tr>
                            </thead>
                            <tbody>
                                ${data.content.map((item, idx) => `
                                    <tr class="border-b border-slate-100 hover:bg-slate-50 transition-colors">
                                        <td class="p-4">
                                            <div class="font-bold text-indigo-700 text-sm md:text-base">${item.model}</div>
                                            <div class="md:hidden text-xs text-slate-500 mt-1">${item.desc}</div>
                                        </td>
                                        <td class="p-4 text-sm text-slate-600 hidden md:table-cell">${item.desc}</td>
                                        <td class="p-4 text-right">
                                            <button onclick="toggleAnswer('mod-${idx}')" class="text-indigo-500 hover:text-indigo-700 text-xs font-bold uppercase tracking-wider">
                                                Пример <i class="fa-solid fa-chevron-down ml-1"></i>
                                            </button>
                                        </td>
                                    </tr>
                                    <tr id="mod-${idx}" class="hidden bg-indigo-50">
                                        <td colspan="3" class="p-4">
                                            <div class="flex items-start">
                                                <div class="bg-white p-2 rounded shadow-sm mr-3 text-indigo-400">
                                                    <i class="fa-solid fa-robot"></i>
                                                </div>
                                                <div>
                                                    <p class="text-xs font-bold text-indigo-400 uppercase mb-1">Пример из области AI:</p>
                                                    <p class="text-indigo-900 italic font-medium">"${item.ex}"</p>
                                                </div>
                                            </div>
                                        </td>
                                    </tr>
                                `).join('')}
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="bg-amber-50 border-l-4 border-amber-400 p-4 rounded-r-lg">
                        <div class="flex">
                            <div class="flex-shrink-0"><i class="fa-solid fa-lightbulb text-amber-400"></i></div>
                            <div class="ml-3">
                                <h3 class="text-sm font-bold text-amber-800 uppercase">Подсказка для контрольной</h3>
                                <p class="text-sm text-amber-700 mt-1 italic">При описании характеристик старайтесь чередовать эти модели, чтобы избежать тавтологии и сделать текст более научным.</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            container.innerHTML += gridHTML;
        }

        // --- Standard Renderers (From original file) ---
        function renderGrammarView(container, data) {
            const planSection = `
                <section class="bg-white rounded-xl shadow-sm p-6 mb-6 border border-slate-200">
                    <h2 class="text-xl font-bold text-indigo-700 mb-4 flex items-center"><i class="fa-solid fa-circle-question mr-2"></i> ${data.content.plan.title}</h2>
                    <p class="text-slate-700 mb-4">${data.content.plan.desc}</p>
                    <ul class="list-disc list-inside bg-slate-50 p-4 rounded-lg text-sm text-slate-600 mb-4 space-y-1">
                        ${data.content.plan.rules.map(r => `<li>${r}</li>`).join('')}
                    </ul>
                    <div class="bg-indigo-50 border-l-4 border-indigo-500 p-4">
                        <p class="text-xs font-bold text-indigo-400 uppercase">Пример трансформации</p>
                        <p class="text-sm mt-1"><strong>Текст:</strong> ${data.content.plan.example.text}</p>
                        <p class="text-sm mt-2 font-bold text-indigo-800"><i class="fa-solid fa-arrow-right mr-1"></i> ${data.content.plan.example.result}</p>
                    </div>
                </section>
            `;

            const grammarSection = `
                <div class="grid md:grid-cols-2 gap-6">
                    <div class="bg-white rounded-xl shadow-sm p-6 border border-slate-200">
                        <h2 class="text-xl font-bold text-slate-800 mb-4">Именной характер речи</h2>
                        <div class="chart-container"><canvas id="posChart"></canvas></div>
                    </div>
                    <div class="space-y-4">
                        ${data.content.grammar.features.map(f => `
                            <div class="bg-white rounded-xl shadow-sm p-5 border-l-4 border-blue-500 interactive-card">
                                <h3 class="font-bold text-slate-800">${f.type}</h3>
                                <p class="text-sm text-slate-600 mt-1">${f.desc}</p>
                                <div class="mt-2 text-xs bg-slate-100 p-2 rounded text-slate-500">Example: "${f.ex}"</div>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
            container.innerHTML += planSection + grammarSection;
            setTimeout(() => {
                const ctx = document.getElementById('posChart').getContext('2d');
                new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Сущ.', 'Глаг.', 'Прич.', 'Пр.'],
                        datasets: [{ label: 'Частотность', data: [45, 15, 25, 15], backgroundColor: ['#4f46e5', '#94a3b8', '#60a5fa', '#e2e8f0'], borderRadius: 5 }]
                    },
                    options: { responsive: true, maintainAspectRatio: false, plugins: { legend: { display: false } } }
                });
            }, 50);
        }

        function renderSyntaxView(container, data) {
            const nomPlanHTML = `<section class="bg-white rounded-xl shadow-sm p-6 mb-8 border border-slate-200"><h2 class="text-xl font-bold text-slate-800">${data.content.nominalPlan.title}</h2><p class="text-slate-600 mt-1">${data.content.nominalPlan.desc}</p><div class="flex flex-wrap gap-2 mt-3">${data.content.nominalPlan.features.map(f => `<span class="px-3 py-1 bg-green-50 text-green-700 text-xs rounded-full font-medium">${f}</span>`).join('')}</div></section>`;
            const transformerHTML = `
                <section>
                    <h2 class="text-xl font-bold text-slate-800 mb-4">Выражение условия</h2>
                    <div class="space-y-3">
                        ${data.content.conditionals.map((c, idx) => `
                            <div onclick="toggleAnswer('ans-${idx}')" class="bg-white rounded-lg shadow-sm border border-slate-200 p-4 cursor-pointer hover:bg-indigo-50 transition-colors group">
                                <p class="text-slate-800 mt-1 font-medium"><span class="text-red-500">Если</span>... ${c.complex}</p>
                                <div id="ans-${idx}" class="hidden mt-4 pt-4 border-t border-slate-100 bg-indigo-50 -mx-4 -mb-4 p-4 rounded-b-lg">
                                    <p class="text-xs font-bold text-indigo-500 uppercase mb-1">Научный стиль:</p>
                                    <p class="text-indigo-900 font-bold">${c.simple}</p>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                </section>
            `;
            container.innerHTML += nomPlanHTML + transformerHTML;
        }

        function renderAbstractingView(container, data) {
            const processHTML = `<div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">${data.content.process.map((p, i) => `<div class="bg-white p-4 rounded-xl shadow-sm border-t-4 border-indigo-500 relative"><div class="absolute -top-3 -right-3 w-8 h-8 bg-indigo-600 text-white rounded-full flex items-center justify-center font-bold shadow-md">${i+1}</div><h3 class="font-bold text-slate-800 mb-2">${p.step.split('. ')[1]}</h3><p class="text-xs text-slate-500 leading-relaxed">${p.detail}</p></div>`).join('')}</div>`;
            container.innerHTML += processHTML;
        }

        function renderStructureView(container, data) {
            const docHTML = `<div class="grid lg:grid-cols-3 gap-8"><div class="lg:col-span-2 space-y-4">${data.content.sections.map((sec, idx) => `<div class="bg-white rounded-lg border border-slate-200 overflow-hidden"><div onclick="toggleAnswer('cliche-${idx}')" class="p-4 bg-slate-50 border-b flex justify-between cursor-pointer"><h3 class="font-bold text-slate-800">${sec.name}</h3><i class="fa-solid fa-angle-down"></i></div><div id="cliche-${idx}" class="hidden p-4"><ul>${sec.cliches.map(c => `<li class="text-indigo-700 italic bg-indigo-50 p-2 mb-1 rounded border border-indigo-100">${c}</li>`).join('')}</ul></div></div>`).join('')}</div></div>`;
            container.innerHTML += docHTML;
        }

        function toggleAnswer(id) {
            const el = document.getElementById(id);
            el.classList.toggle('hidden');
            if (!el.classList.contains('hidden')) el.classList.add('fade-in');
        }

        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
